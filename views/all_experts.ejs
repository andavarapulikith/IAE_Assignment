<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experts</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Schibsted+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/3e893105a3.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" ></script>
<link
      href="/css/admin.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/all_experts.css">
</head>



<body>
    <%- include('partials/adminnavbar') %>


    <div class="right">
        <!-- <img  src="../images/null.png" alt=""> -->
      <h1 style="margin-left: 30px;margin-bottom:20px;padding: 3px;border-bottom: 6px solid rgb(47, 46, 46);width: 205px;border-right: 6px solid rgb(47, 46, 46);font-size: 35px;">All experts</h1>
       <div class="searchbar">
        <form action="/admin/all_experts/search" method="post">
        <input type="text" class="searchtab"  placeholder="search" name="searchitem">
        <select name="basis1" id="selector1">
            <option value="name" default>name</option>
            <option value="email">email</option>
        </select>
        <select name="basis2" id="selector2">
            <option value="newest" default>recent</option>
            <option value="oldest">older</option>
        </select>
        <button type="submit" class="submitbtn">Search</button>
    </form>
       </div>








      <div class="total_experts">
        <% if(experts.length!==0) { %>
        <% for(let i=0;i<experts.length;i++)  {%>
            <a href="/expertshow/<%=experts[i]._id%>">
        <div class="single_expert">
           <div class="detailss">
            <h3  > <%= experts[i].firstname%> <%=experts[i].lastname %></h3>
            <div class="box">
            <h4 >
                Expert
            </h4>
        </div>

           </div>
           <div class="subdetailss" >
            <h4 ><%=experts[i].email %></h4>
            <h4 ><%= experts[i].phone %></h4>
           </div>
           <div class="posted">
           <h3 > posted articles : <%= count[i] %></h3>
           <div class="delete_block_btns d-flex mt-3 justify-content-center">
            <form action="/admin/remove_expert" method="post">
                 <input type="hidden" name="expert_id" value="<%= experts[i]._id %>">
                <button type="submit" class="btn btn-danger me-3">Remove</button>
            </form>
            <form action="/admin/block_expert" method="post">
                <input type="hidden" name="expert_id" value="<%= experts[i]._id %>">
                <button type="submit" class="btn <%= experts[i].is_blocked?"btn-success":"btn-warning" %>"><%= experts[i].is_blocked?"Unblock":"Block" %></button>
            </form>
           </div>
           </div>
        </div>
    </a>
        <% }%>
        <% }%>
        <% if(experts.length===0) { %>
            <div class="not_available" style="height: 300px;text-align: center;display: flex;align-items: center;justify-content: center;flex-direction: column;">
              
              <img  src="https://leetcode.com/_next/static/images/null_dark-3f55ffa94690763ee68c9a2be3074a42.png" alt="">
           </div>
            <%} %>
   
      

    </div>
</div>
<script src="/js/admin.js"></script>
<script src=""></script>
</body>
</html>